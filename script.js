const CategoriesData = [
  {
    title: 'ESD Clean room products',
    description: 'This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.',
    subCategory: [{
      title: 'ESD Flooring & table mats',
      targetDiv: 'div-1',
      products: [{
        productName: 'ESD Anti-fatigue mat​',
        productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
        productDescription: 'ESD Anti-fatigue mat​',
      },
      {
        productName: 'ESD rubber mat - Green',
        productImage: ["assets/images/ESD rubber mat – Green.jfif", "assets/images/ESD rubber mat – Green-2.jfif"]
      }]
    },
    {
      title: 'Anti-static Cleaner',
      targetDiv: 'div-2',
      products: [{
        productName: 'ESD safe Floor cleaner',
        productImage: ["./assets/images/ESD Floor cleaner.webp"],
        productDescription: 'ESD Anti-fatigue mat​',
      },
      {
        productName: 'ESD safe Mat & table cleaner',
        productImage: ["./assets/images/Mat & table cleaner.jfif"]
      }]
    },
    {
      title: 'Floor marking Tapes',
      targetDiv: 'div-3',
      products: [{
        productName: 'Single color tape​',
        productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
        productDescription: 'ESD Anti-fatigue mat​',
      },
      {
        productName: 'Double color tape',
        productImage: ["assets/images/ESD rubber mat – Green.jfif", "assets/images/ESD rubber mat – Green-2.jfif"]
      },
      {
        productName: 'ESD Caution tape',
        productImage: ["./assets/images/Caution tape.jpg", "./assets/images/esd Caution tape.jpg"]
      }]
    },
    {
      title: 'ESD Gloves & finger cots',
      targetDiv: 'div-4',
      products: [{
        productName: 'Anti-Static dotted gloves​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
        productDescription: 'ESD Anti-fatigue mat​',
      },
      {
        productName: 'ESD Palm Fit PU Coated gloves',
        productImage: ["./assets/images/ESD Palm Fit PU Coated gloves.jfif"]
      },
      {
        productName: 'ESD finger top Fit PU Coated gloves',
        productImage: ["./assets/images/ESD finger top Fit PU Coated gloves.jfif", "assets/images/ESD rubber mat – Green-2.jfif"]
      },
      {
        productName: 'Finger cots',
        productImage: ["./assets/images/Finger cots.jfif", "./assets/images/Finger cots.jfif"]
      }]
    },
    {
      title: 'ESD footwear',
      targetDiv: 'div-5',
      products: [
        {
          productName: 'ESD safety shoe​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'ESD Anti-fatigue mat​',
        },
        {
          productName: 'ESD cleanroom shoe',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"]
        },
        {
          productName: 'ESD slipper',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"]
        },
        {
          productName: 'Manual Shoe cover dispenser',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"]
        }]
    },
    {
      title: "ESD garments",
      targetDiv: 'div-6',
      products: [{
        productName: 'ESD apron​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'ESD cover all​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'ESD cap & bouffant cap​',
        productImage: ["./assets/images/bouffant cap.webp", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'ESD shoe cover​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      }]
    },
    {
      title: "ESD grounding products",
      targetDiv: 'div-7',
      products: [{
        productName: 'ESD wrist strap ',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'Grounding cord​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'Common grounding point​',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'ESD heel strap​',
        productImage: ["./assets/images/ESD heel strap.jfif", "assets/images/ESD heel strap-2.jfif"],
      },
      {
        productName: 'ESD field service kit',
        productImage: ["./assets/images/Anti-Static dotted gloves.jfif", "./assets/images/Anti-Static dotted gloves-2.jfif"],
      },
      {
        productName: 'ESD shoe cover with conductive strip',
        productImage: ["./assets/images/ESD shoe cover with conductive strip.jpg", "./assets/images/ESD shoe cover with conductive strip-2.jfif"],
      }]
    }
    ]


  },

  {
    title: 'Material handling & Storage',
    description: 'This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.',
    subCategory: [
      {
        title: 'Bins & Crates',
        targetDiv: 'div-1',
        products: [{
          productName: 'Conductive crate​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        {
          productName: 'Conductive tray',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        {
          productName: 'Conductive Dustbin​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        {
          productName: 'Conductive component bins​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        {
          productName: 'ESD conductive corrugated box​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        }
        ]
      },
      {
        title: 'component Organizer',
        targetDiv: 'div-2',
        products: [{
          productName: 'Conductive crate​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        ]
      },
      {
        title: 'PCB storage',
        targetDiv: 'div-3',
        products: [{
          productName: 'Conductive crate​',
          productImage: ["./assets/images/ESD Anti-fatigue mat.jfif", "./assets/images/ESD Anti-fatigue mat-2.jfif"],
          productDescription: 'description​',
        },
        ]
      }],
  },
  {
    title: 'Clean room disposable products'
  },

  {
    title: 'ESD & non ESD chairs  '
  },

  {
    title: 'Soldering equipment, accessories & tools​'
  },

  {
    title: 'Static measuring instruments​'
  },

  {
    title: 'ESD flooring​'
  },

  {
    title: 'Tape & tape dispenser​'
  },

  {
    title: 'ESD packing cover​'
  },

  {
    title: 'Magnifier and microscope​'
  }

];

function renderCategory(cardDataArray) {
  const cardContainer = document.getElementById('category-container');

  for (let i = 0; i < cardDataArray.length; i++) {
    const card = document.createElement('div');
    card.classList.add('card', 'text-white', 'cat-width', 'cat-height', 'MyCard');

    const cardOverlay = document.createElement('div');
    cardOverlay.classList.add('card-img-overlay');

    const cardTitle = document.createElement('h5');
    cardTitle.classList.add('card-title');
    cardTitle.textContent = cardDataArray[i].title;

    const cardText1 = document.createElement('p');
    cardText1.classList.add('card-text');
    cardText1.textContent = cardDataArray[i].description;

    cardOverlay.appendChild(cardTitle);
    cardOverlay.appendChild(cardText1);

    card.appendChild(cardOverlay);

    card.setAttribute('data-custom-value', `${i}`);

    card.addEventListener("click", (event) => {
      console.log(event.currentTarget);
      if (cardDataArray[event.currentTarget.getAttribute('data-custom-value')].subCategory) {
        renderCategoryMenu(CategoriesData[i].subCategory);
        const displaySubCat = document.getElementById("displayMenu");
        displaySubCat.style.height = "fit-content";
      } else {
        document.getElementById("displayMenu").style.height = "0";
      }
    });

    cardContainer.appendChild(card);
  };
}

renderCategory(CategoriesData)

function renderCategoryMenu(subCategory) {
  console.log(subCategory);
  const navList = document.getElementById('menuList');
  navList.innerHTML = '';
  const addTargetDivs = document.getElementById("target-divs");
  addTargetDivs.innerHTML = "";
  subCategory.forEach((item, index) => {
    const listItem = document.createElement('li');
    listItem.className = 'nav-item';

    const link = document.createElement('a');
    link.className = `nav-link menu-item ${index === 0 ? 'active' : ''}`;
    link.setAttribute('data-target', item.targetDiv);
    link.href = '#';
    link.textContent = item.title;

    // Add click event listener to each link
    link.addEventListener('click', () => handleLinkClick());

    listItem.appendChild(link);
    navList.appendChild(listItem);

    const targetDiv = document.createElement('div');
    targetDiv.id = item.targetDiv;
    targetDiv.className = `container-fluid content ${index === 0 ? 'active' : ''}`;

    const innerContainer = document.createElement('div');
    innerContainer.className = 'container-fluid Mycontainer';

    item.products.forEach((product) => {
      const card = renderCards(product)
      innerContainer.appendChild(card);
      targetDiv.appendChild(innerContainer);
    })

    addTargetDivs.appendChild(targetDiv);
  });
}

function handleLinkClick() {
  const menuItems = document.querySelectorAll('.menu-item');
  const contentDivs = document.querySelectorAll('.content');

  menuItems.forEach(function (menuItem) {
    menuItem.addEventListener('click', function (event) {
      // Prevent the default behavior (scrolling to the top)
      event.preventDefault();

      // Remove 'active' class from all menu items
      menuItems.forEach(function (item) {
        item.classList.remove('active');
      });

      // Remove 'active' class from all content divs
      contentDivs.forEach(function (contentDiv) {
        contentDiv.classList.remove('active');
      });

      // Add 'active' class to the clicked menu item
      menuItem.classList.add('active');

      // Get the target div associated with the clicked menu item
      const targetDivId = menuItem.getAttribute('data-target');
      const targetDiv = document.getElementById(targetDivId);

      // Add 'active' class to the target div
      targetDiv.classList.add('active');
    });
  });
}

function renderCards(product) {
  console.log(product);
  const card = document.createElement('div');
  card.classList.add('card', 'MyProductCard');
  card.style = 'width: 18rem;';

  const cardImage = document.createElement('img');
  cardImage.src = product.productImage[0]; // Add the actual image source
  cardImage.className = 'card-img-top';
  cardImage.alt = 'product.productName';

  const cardBody = document.createElement('div');
  cardBody.className = 'card-body';

  const cardTitle = document.createElement('h5');
  cardTitle.className = 'card-title';
  cardTitle.textContent = product.productName;

  const cardText = document.createElement('p');
  cardText.className = 'card-text';
  cardText.textContent = `Some quick example text to build on the card title and make up the bulk of the card's content.`;

  const cardLink = document.createElement('a');
  cardLink.href = '#';
  cardLink.className = 'btn btn-primary';
  cardLink.textContent = 'Go somewhere';

  cardBody.appendChild(cardTitle);
  cardBody.appendChild(cardText);
  cardBody.appendChild(cardLink);

  card.appendChild(cardImage);
  card.appendChild(cardBody);

  return card;

}
